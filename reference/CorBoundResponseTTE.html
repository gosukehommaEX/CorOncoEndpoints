<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Correlation Bounds Between Response and Time-to-Event Endpoints — CorBoundResponseTTE • CorOncoEndpoints</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Correlation Bounds Between Response and Time-to-Event Endpoints — CorBoundResponseTTE"><meta name="description" content="Computes the lower and upper bounds of the correlation coefficient between
a binary response endpoint and a time-to-event (TTE) endpoint. These bounds
are derived using Fréchet-Hoeffding copula bounds and depend only on the
response probability, not on the hazard rate of the TTE endpoint."><meta property="og:description" content="Computes the lower and upper bounds of the correlation coefficient between
a binary response endpoint and a time-to-event (TTE) endpoint. These bounds
are derived using Fréchet-Hoeffding copula bounds and depend only on the
response probability, not on the hazard rate of the TTE endpoint."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CorOncoEndpoints</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/introduction.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction to CorOncoEndpoints</a></li>
    <li><a class="dropdown-item" href="../articles/advanced-usage.html">Advanced Usage and Examples</a></li>
    <li><a class="dropdown-item" href="../articles/theoretical-background.html">Theoretical Background</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gosukehommaEX/CorOncoEndpoints"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Correlation Bounds Between Response and Time-to-Event Endpoints</h1>
      <small class="dont-index">Source: <a href="https://github.com/gosukehommaEX/CorOncoEndpoints/blob/main/R/CorBoundResponseTTE.R" class="external-link"><code>R/CorBoundResponseTTE.R</code></a></small>
      <div class="d-none name"><code>CorBoundResponseTTE.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the lower and upper bounds of the correlation coefficient between
a binary response endpoint and a time-to-event (TTE) endpoint. These bounds
are derived using Fréchet-Hoeffding copula bounds and depend only on the
response probability, not on the hazard rate of the TTE endpoint.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>Numeric. The true probability of the binary response endpoint.
Must be between 0 and 1 (exclusive).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector of length 2 containing:</p><ul><li><p>First element: Lower bound (maximum negative dependence)</p></li>
<li><p>Second element: Upper bound (maximum positive dependence)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The Fréchet-Hoeffding bounds provide theoretical limits for the correlation
between a binary response endpoint (e.g., objective response) and an
exponentially distributed TTE endpoint (e.g., overall survival or
progression-free survival).</p>
<p>The correlation bounds are given by:
$$\log(1-p)\sqrt{\frac{1-p}{p}} \leq \text{Corr}(TTE, Response) \leq \log\left(\frac{1}{p}\right)\sqrt{\frac{p}{1-p}}$$</p>
<p>Key properties:</p><ul><li><p>The bounds depend only on <code>p</code>, not on the TTE hazard rate</p></li>
<li><p>Lower bound: achieved by countermonotonic copula \(C(u,v) = \max\{u+v-1, 0\}\)</p></li>
<li><p>Upper bound: achieved by comonotonic copula \(C(u,v) = \min\{u, v\}\)</p></li>
<li><p>The bounds are symmetric: if <code>p</code> is replaced by <code>1-p</code>,
the lower and upper bounds swap with negated signs</p></li>
<li><p>Maximum absolute bound value of approximately 0.805 occurs at
<code>p ≈ 0.203</code> (for upper bound) and <code>p ≈ 0.797</code> (for lower bound).
This is a fundamental property of the Fréchet-Hoeffding bounds for
correlations between binary and continuous exponential variables.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The independence of correlation bounds from the hazard rate is an
interesting theoretical result. While the hazard rate determines the scale
of the TTE endpoint, it does not affect the range of achievable correlations
with the binary response endpoint. This occurs because the hazard rate only
affects the scaling of the TTE variable, while the binary response endpoint
is determined solely by the probability <code>p</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Trivedi, P. K., &amp; Zimmer, D. M. (2005). Copula modeling: an introduction
for practitioners. Foundations and Trends in Econometrics, 1(1), 1-111.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Calculate bounds with response probability = 0.4</span></span></span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.6256311  0.7481482</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with higher response rate</span></span></span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.7481482  0.6256311</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with lower response rate</span></span></span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.4462871  0.8047190</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with intermediate values</span></span></span>
<span class="r-in"><span><span class="va">bounds</span> <span class="op">&lt;-</span> <span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.35</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Lower bound:"</span>, <span class="va">bounds</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"\nUpper bound:"</span>, <span class="va">bounds</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower bound: -0.5870582 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper bound: 0.7703588 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Demonstrating the effect of response probability on bounds</span></span></span>
<span class="r-in"><span><span class="co"># The bounds are widest around p ≈ 0.203 and p ≈ 0.797</span></span></span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.203</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.4495901  0.8047423</span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.6931472  0.6931472</span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.797</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.8047423  0.4495901</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Demonstrating symmetry property</span></span></span>
<span class="r-in"><span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.5448300  0.7881852</span>
<span class="r-in"><span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu">CorBoundResponseTTE</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Should be nearly identical</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.5448300  0.7881852</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find maximum absolute bound</span></span></span>
<span class="r-in"><span><span class="va">p_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.99</span>, by <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bounds_upper</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">p_seq</span>, <span class="kw">function</span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="fu">CorBoundResponseTTE</span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">max_bound_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max</a></span><span class="op">(</span><span class="va">bounds_upper</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Maximum upper bound:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">bounds_upper</span><span class="op">[</span><span class="va">max_bound_idx</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">"at p ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">p_seq</span><span class="op">[</span><span class="va">max_bound_idx</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum upper bound: 0.8047 at p = 0.203 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gosuke Homma</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>.</p>
</div>

    </footer></div>





  </body></html>

